{% extends 'core/base.html' %}
{% load mathfilters %}
{% load filters %}
{% load staticfiles %}
{% block content %}
    {% if not a.status == a.PROCESSED %}
        <div class="container">
            <div class="alert alert-info">
            Audio processing is still in progress.
            </div>
        </div>
    {% endif %}
    <div class="container">
        <p class="m-p">File added: {{ a.date_uploaded }}</p>
        <p class="m-p">File name: {{ a.get_filename|unquote|truncatechars:50 }}</p>
        <p class="m-p">Total length: {{ a.get_duration|duration:"h:i:s" }}</p>
        <p class="m-p">BPM (average={% if a.avg_bpm == -1 %}unknown{% else %}{{ a.avg_bpm }}{% endif %})</p>
        <div class="container">
            <div id="bpmChart"></div>
            <div id="bpm"></div>
        </div>
    </div>
{% endblock content %}
{% block scripts %}
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="{% static '/js/audio.js' %}"></script>
{% endblock scripts %}